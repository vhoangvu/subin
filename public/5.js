webpackJsonp([5],{151:function(t,e,s){var o=s(139)(s(214),s(215),!1,null,null,null);t.exports=o.exports},214:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{orderId:document.head.querySelector('meta[name="order-id"]').content,order:{order_object:{}},products:[],productGroupNames:productGroupNames}},created:function(){var t=this;axios.get("/order/"+this.orderId).then(function(e){t.order=e.data}),axios.get("/product").then(function(e){t.products=e.data})},methods:{orderProduct:function(t){var e=this,s=t.quantity;s||(s=1),axios.post("/orderhistory/"+t.id+"/"+this.orderId,{quantity:s}).then(function(o){t.clicked=parseInt(t.clicked)+parseInt(s),t.quantity=0,e.$snotify.success("Added",s+" "+t.name,{timeout:notifyTimeout,position:"leftTop",showProgressBar:!1,closeOnClick:!1,pauseOnHover:!1})})},unOrderProduct:function(t){var e=this,s=t.quantity;s||(s=1),axios.post("/orderhistory/"+t.id+"/"+this.orderId,{quantity:-s}).then(function(o){t.clicked=parseInt(t.clicked)-parseInt(s),t.quantity=0,e.$snotify.warning("Deleted",s+" "+t.name,{timeout:notifyTimeout,position:"leftTop",showProgressBar:!1,closeOnClick:!1,pauseOnHover:!1})})},deleteOrder:function(){var t=this;axios.delete("/order/"+this.orderId).then(function(e){t.$snotify.warning("Deleted Order",t.orderId,{timeout:notifyTimeout,position:"leftTop",showProgressBar:!1,closeOnClick:!1,pauseOnHover:!1})}),window.location.href="/sale"}}}},215:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12"},[s("div",{staticClass:"panel panel-default"},[s("div",{staticClass:"panel-heading"},[s("strong",[t._v("Order")]),t._v(" for "),s("strong",[t._v(t._s(t.order.order_object.name))]),t._v(" "),"PAID"!=t.order.status?s("a",{staticClass:"btn btn-sm btn-danger pull-right",attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.deleteOrder()}}},[t._v("Delete")]):t._e()]),t._v(" "),s("div",{staticClass:"panel-heading"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-4 col-sm-4 col-xs-4"},[s("a",{staticClass:"btn btn-sm btn-warning btn-block",attrs:{href:"/order/"+t.orderId+"/orderhistory/review"}},[t._v("Review")])]),t._v(" "),t._m(0),t._v(" "),t._m(1)])]),t._v(" "),s("div",{staticClass:"panel-body"},[s("form",{staticClass:"form",attrs:{onsubmit:"return false"}},[s("vue-accordion",{attrs:{"one-at-atime":!0,type:"info"}},t._l(t.products,function(e,o){return s("vue-panel",{key:o,attrs:{type:"primary",header:t.productGroupNames[o]}},t._l(e,function(e){return s("div",{key:e.id,staticClass:"row product-line"},[s("div",{staticClass:"col-md-8 col-sm-5 col-xs-5 product-name"},[t._v("\n\t\t\t                    \t\t"+t._s(e.name)+" ("+t._s(e.clicked)+")\n\t\t\t                    \t")]),t._v(" "),s("div",{staticClass:"col-md-1 col-sm-2 col-xs-2 no-padding-side"},[s("button",{staticClass:"btn btn-primary center-block",attrs:{disabled:"PAID"==t.order.status},on:{click:function(s){return t.orderProduct(e)}}},[s("span",{staticClass:"glyphicon glyphicon-plus-sign"})])]),t._v(" "),s("div",{staticClass:"col-md-2 col-sm-3 col-xs-3 no-padding-side"},[s("select",{directives:[{name:"model",rawName:"v-model",value:e.quantity,expression:"product.quantity"}],staticClass:"form-control",on:{change:function(s){var o=Array.prototype.filter.call(s.target.options,function(t){return t.selected}).map(function(t){return"_value"in t?t._value:t.value});t.$set(e,"quantity",s.target.multiple?o:o[0])}}},[s("option",{attrs:{value:"0"}},[t._v("0")]),t._v(" "),s("option",{attrs:{value:"1"}},[t._v("1")]),t._v(" "),s("option",{attrs:{value:"2"}},[t._v("2")]),t._v(" "),s("option",{attrs:{value:"3"}},[t._v("3")]),t._v(" "),s("option",{attrs:{value:"4"}},[t._v("4")]),t._v(" "),s("option",{attrs:{value:"5"}},[t._v("5")]),t._v(" "),s("option",{attrs:{value:"6"}},[t._v("6")]),t._v(" "),s("option",{attrs:{value:"7"}},[t._v("7")]),t._v(" "),s("option",{attrs:{value:"8"}},[t._v("8")]),t._v(" "),s("option",{attrs:{value:"9"}},[t._v("9")]),t._v(" "),s("option",{attrs:{value:"10"}},[t._v("10")])])]),t._v(" "),s("div",{staticClass:"col-md-1 col-sm-2 col-xs-2 no-padding-side"},[s("button",{staticClass:"btn btn-danger center-block",attrs:{disabled:"PAID"==t.order.status},on:{click:function(s){return t.unOrderProduct(e)}}},[s("span",{staticClass:"glyphicon glyphicon-minus-sign"})])])])}),0)}),1)],1)])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-md-4 col-sm-4 col-xs-4"},[e("a",{staticClass:"btn btn-sm btn-primary btn-block",attrs:{href:"/order"}},[this._v("New")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-md-4 col-sm-4 col-xs-4"},[e("a",{staticClass:"btn btn-sm btn-info btn-block",attrs:{href:"/sale"}},[this._v("Continue Sale")])])}]}}});